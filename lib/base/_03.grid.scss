
$breakpoints: (
  small:  ( class: #{\@sm-}, width:  0,      height: 640px ),
  medium: ( class: #{\@md-}, width:  480px,  height: 1024px),
  large:  ( class: #{\@lg-}, width:  1024px, height: 1440px),
  xlarge: ( class: #{\@xl-}, width:  1440px, height: 1080px),
);

$breakpoints-classes: (small, medium, large);

@mixin breakpoint($classes) {
  @each $class in $classes {
    // A Media Query is not required if the width is 0px.
    @if (var($breakpoints, $class width) == 0px) {
      @content;
    } 
    @else {
      @media screen and (min-width: var($breakpoints, $class width)) {
        @content;
      }
    }
  }
}

.grid {
  @include clearfix();
  .grid {  margin: 0 -10px; }
}
.grid-item { float: left; padding: 10px; }
.grid-item.end { float: right; }

@each $class in $breakpoints-classes {
  @include breakpoint($class){
    @for $i from 1 through 12 {
      // Variables
      $prefix:    #{var($breakpoints, $class class)};
      $classname: #{str-insert(\3#{$i}of12, ' ', 4)};
      $columnWidth: percentage($i/12);
      // Build Classes
      .#{$prefix}#{$classname}      { width:  $columnWidth; }       // width
      .#{$prefix}push-#{$classname} { margin-left:  $columnWidth; } // push
    }
  }
}
